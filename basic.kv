#:include card.kv

<Cstandart@MDCard>: # ОСНОВНАЯ карточка или бокс
    pos_hint: {"center_x": .5, "top": 1}
    padding: [dp(5), dp(5), dp(5), dp(5)]

<Bstandart@MDBoxLayout>: #Стандартный бокс
    orientation: 'horizontal'
    padding: [dp(10), dp(10), dp(10), dp(10)]
    spacing: dp(5)
    size_hint_y: None
    height: dp(50) #"30dp"
    #pos_hint: {"center_x": .5, "top": 1}

<Bnopad@MDBoxLayout>: #Бокс с минимальными границами
    padding: [dp(10), dp(10), dp(10), dp(10)]
    spacing: dp(5)
    size_hint_y: None
    height: self.minimum_height

<Lstandart@MDLabel>: #Текстовый элемент ввода данных
    theme_text_color: "Custom"#"Primary"
    text_color:  app.c_selected # app.c_mrestext # app.c_white
    spacing: dp(10)
    text_size: self.width, self.height
    font_size: '12dp' #dp(6)
    pos_hint: {"center_x": .5, "top": 1}
    valign: "top"
<Lsmall@MDLabel>: #
    theme_text_color: "Custom"
    text_color: app.c_gray
    spacing: dp(10)
    text_size: self.width, self.height
    font_size: dp(12)
    pos_hint: {"center_x": .5, "top": 1}
    halign: "center"
    valign: "top"

<LabelEnter@MDLabel>: #Текстовый элемент ввода данных
    font_style: "H6"
    theme_text_color: "Custom"
    text_color: app.c_darkgray
    spacing: "5dp"
    size_hint_y: None
    size_hint_y: "30dp"

<TInput@MDTextField>: #Текстовый элемент ввода данных
    icon_color: "primary"
    font_style: "Caption"
    hint_text_color: app.c_hint_text
    text_color: app.c_black
    input_filter: 'int'
    max_text_length: 12
    #helper_text: "Введите число > 0"
    helper_text_mode: "on_error"
    #padding: [2,2,2,2]
    pos_hint: {"center_y": 0.5,"right": 1}
    halign: "left"

#
MDScreen:
    title: "Калькулятор фигуры"
    MDToolbar:
        id: tb_upper
        title: "Калькулятор фигуры"
        type: "top"
        left_action_items: [["menu", lambda x: app.callback()]]
        right_action_items: [["exit-to-app", lambda x: app.stop()]]
        md_bg_color: [.99,.87,.45,1] # app.theme_cls.accent_color
        text_color: app.theme_cls.accent_color # [.1,.1,.3,1]#
        specific_text_color: [.1,.1,.3,1]#
        elevation: 5
        pos_hint: {"top": 1, "center_x": .5}

    MDBoxLayout:
        id: bx_main # Основной бокс в котором расположено все кроме тулбара
        size_hint_y: None
        size_hint_y: 1.0 - tb_upper.height/root.height

        MDGridLayout: # корневой виджет включающий два основных горизонтальных элемента
            id: main_container
            rows: 2 #для вертикальной ориентации - смартфонов, этот параметр изменяется при запуске для планшетов и ПК
            cols: 1
            padding: dp(10)
            spacing: dp(10)

# ---------- 1) ЛЕВЫЙ ИЛИ ВЕРХНИЙ БЛОК: --------- РЕЗУЛЬТАТЫ
            MDBoxLayout: # ОСНОВНАЯ карточка или бокс
                id: cd_first
                #pos_hint: {"center_x": .5, "top": 1}
                #elevation: 3
                orientation: "vertical"
                md_bg_color: [1, 1, 1, 1]
                padding: [dp(10), dp(10), dp(10), dp(10)]

                Cbmi: # КАРТОЧКА С БАЗОВОЙ ОЦЕНКОЙ ИМТ: РОСТ-ВЕС

                Bstandart: # BMI
                    id: b_res_main_scale
                    Lstandart:
                        id: l_bmi_text
                        text: "Индекс массы тела"
                        font_style: "H6"
                    Lstandart:
                        id: l_bmi_weight
                        text: "ЗНАЧЕНИЕ"
                        font_style: "H6"
                        halign: "right"


                Bstandart: # BMI
                    id: b_res_main_scale
                    Lstandart:
                        id: l_bmi_main_left
                        text: "С учетом конституации (3 показателя)"
                        font_style: "H6"
                    Lstandart:
                        id: l_bmi_main_right
                        text: "ОЦЕНКА"
                        font_style: "H6"
                        halign: "right"

                Bstandart: # BMI
                    id: b_res_main_scale
                    Lstandart:
                        id: l_bmi_main_left
                        text: "С учетом конституации (6 показателей)"
                        font_style: "H6"
                    Lstandart:
                        id: l_bmi_main_right
                        text: "ОЦЕНКА"
                        font_style: "H6"
                        halign: "right"

                Bstandart: # BMI
                    id: b_res_main_scale
                    Lstandart:
                        id: l_bmi_main_left
                        text: "Идеал фитнес-бикини"
                        font_style: "H6"
                    Lstandart:
                        id: l_bmi_main_right
                        text: "ОЦЕНКА"
                        font_style: "H6"
                        halign: "right"

                Bstandart: # BMI
                    id: b_res_main_scale
                    Lstandart:
                        id: l_bmi_main_left
                        text: "Идеал-культурист"
                        font_style: "H6"
                    Lstandart:
                        id: l_bmi_main_right
                        text: "ОЦЕНКА"
                        font_style: "H6"
                        halign: "right"

                Bstandart: # СЛАЙДЕР
                    id: b_slider
                    MDSlider:
                        id: slider
                        size_hint_y: None
                        height: dp(40) #"30dp"
                        min: 50
                        max: 260
                        value: 170
                        #color: app.theme_cls.accent_color
                        value_track: True
                        value_track_color: [1, 0, 0, 1]
                        step: 1 # Шаг изменения шкалы
                        value_track_color: [1, 0, 0, 1]
                        value_track_width: dp(20)


# ---------- 2) ПРАВЫЙ ИЛИ НИЖНИЙ БЛОК: --------- ВВОД ПАРАМЕТРОВ
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                scroll_type: ['content','bars']
                Bstandart:
                    orientation: "vertical"
                    size_hint_y: None
                    height: self.minimum_height

                    #pos_hint: {"center_x": .5, "top": 1}

                    MDBoxLayout:#Bstandart:
                        size_hint_y: None
                        height: self.minimum_height
                        size_hint_x: 1
                        #width: self.minimum_width

                        #width: dp(500)
                        padding: [dp(0),dp(0),dp(0),dp(10)]
                        spacing: dp(5)

                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(50) #self.minimum_width
                            pos_hint: {"left": 0,"top": 1}
                            MDIcon:
                                icon: "human-male"
                                user_font_size: dp(24)
                                theme_text_color: "Custom"
                                text_color: app.c_selected
                            MDIcon:
                                icon: "human-female"
                                user_font_size: dp(24)
                                theme_text_color: "Custom"
                                text_color: app.c_unselected
                                #pos_hint: {"left": 0, "top": 1}
                                #size_hint: None, None

                        MDBoxLayout:
                            #size_hint: 1,1
                            pos_hint: {"center": .5, "top": 1}
                        TInput:
                            id: i_age
                            size_hint: None, None
                            width:  dp(150)
                            pos_hint: {"center": .5,"top": 1}
                            hint_text: "год рождения"
                            text: "1990"
                            input_filter: 'int'
                            max_text_length: 4
                            helper_text: "введите четырехзначное число"
                            #size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_age')

                        MDBoxLayout:
                            #size_hint: 1,1
                            pos_hint: {"right": 1, "top": 1}
                            MDRaisedButton:
                                id: b_metric
                                text: "метрические"
                                font_style: "Body2"
                                halign: "center"
                                md_bg_color: app.c_bg_light
                                #line_color: app.c_selected
                                theme_text_color: "Custom"
                                text_color: app.c_selected
                                elevation: 7
                                pos_hint: {"right": 1, "top": 1}
                                #on_active: app.cb_periods(self, self.active, True)
                            MDRaisedButton:
                                id: b_metric
                                text: "имперские"
                                font_style: "Body2"
                                halign: "center"
                                md_bg_color: .95, .95, .95, 1 # 1, 1, 1, 1 #
                                theme_text_color: "Custom"
                                text_color: .6, .6, .6, 1
                                pos_hint: {"right": 1, "top": 1}
                                elevation: 4

#                            font_style: "Body2"
#                            halign: "right"
                            #pos_hint: {"right": 1,"top": 1}
                            #on_active: root.cb_periods(self, self.active, True)


#----------------------

                    Bstandart: # РОСТ
                        Lstandart:
                            id: l_hheight
                            text: "Рост"
                            size_hint_x: .5
                        TInput: #
                            id: i_hheight
                            hint_text: ""
                            text: "170"
                            input_filter: 'float'
                            max_text_length: 3
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_hheight')

                    Bstandart: # ВЕС
                        pos_hint: {"right": 1,"top": 1}
                        Lstandart:
                            id: l_weight
                            text: "Вес"
                            size_hint_x: .5
                        TInput: #
                            id: i_weight
                            hint_text: ""
                            text: "70"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_weight')

                    Bstandart: # Обхват кисти
                        Lstandart:
                            id: l_wreck
                            text: "Обхват запястья"
                            size_hint_x: .5
                        TInput: #
                            id: i_wreck
                            hint_text: ""
                            text: "70"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_wreck')

                    Bstandart: # Обхват грудной клетки
                        Lstandart:
                            id: l_chest
                            text: "Обхват груди"
                            size_hint_x: .5
                        TInput: #
                            id: i_chest
                            hint_text: ""
                            text: "70"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_chest')

                    Bstandart: # Обхват груди
                        Lstandart:
                            id: l_chest
                            text: "Грудь"
                            size_hint_x: .5
                        TInput: #
                            id: i_chest
                            hint_text: "обхват грудной клетки"
                            text: "70"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_chest')

                    Bstandart: # Обхват талии
                        Lstandart:
                            id: l_waist
                            text: "Талия"
                            size_hint_x: .5
                        TInput: #
                            id: i_waist
                            hint_text: "обхват талии"
                            text: "70"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_waist')

                    Bstandart: # Обхват талии
                        Lstandart:
                            id: l_pelvis
                            text: "Бедра"
                            size_hint_x: .5
                        TInput: #
                            id: i_pelvis
                            hint_text: "обхват бедер"
                            text: "90"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_pelvis')
#-------------- ДЕТАЛЬНЫЕ ДАННЫЕ
                    Bstandart: # ШЕЯ
                        Lstandart:
                            id: l_neck
                            text: "Шея"
                            size_hint_x: .5
                        TInput: #
                            id: i_neck
                            hint_text: "обхват шеи"
                            text: "90"
                            input_filter: 'float'
                            max_text_length: 6
                            helper_text: "Введите число > 0"
                            size_hint_x: .5
                            halign: "right"
                            on_focus: app.f_on_focus(self, 'i_neck')
#
#
#
##        ScreenManager:
##            MDScreen:
##                MDToolbar:
##                    title: "Navigation Drawer"
##                    elevation: 10
##                    pos_hint: {"top": 1}
##                    md_bg_color: [.91,.89,.75,1]#get_color_from_hex("#e7e4c0")
##                    specific_text_color: [.29,.29,.22,1] #get_color_from_hex("#4a4939")
##                    left_action_items:
##                        [['menu', lambda x: nav_drawer.set_state("open")]]
##
##
##        MDNavigationDrawer:
##            id: nav_drawer
##            md_bg_color: [.97,.96,.91,1] # get_color_from_hex("#f7f4e7")
##            ContentNavigationDrawer: